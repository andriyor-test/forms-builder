<mat-accordion class="card">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{title.value}}
      </mat-panel-title>
      <mat-panel-description>
        {{description.value}}
      </mat-panel-description>
    </mat-expansion-panel-header>

    <form [formGroup]="form">
      <mat-card class="form-field">
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Form title" formControlName="title">
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <input matInput placeholder="Form description" formControlName="description">
        </mat-form-field>
      </mat-card>

      <mat-card *ngFor="let configItem of formConfig; let i = index" class="form-field">
        <app-dynamic-control [control]="configItem" [group]="form">
        </app-dynamic-control>

        <button mat-button (click)="openDialog(configItem)">
          Edit
        </button>
        <button mat-button (click)="onDeleteItem(i)">
          Delete
        </button>
      </mat-card>

      <button mat-button (click)="addFormFieldBuilder()">
        Add option
      </button>

      <div>
        <button mat-button type="submit" [disabled]="!form.valid" (click)="callingFunction()">
          Submit
        </button>
      </div>

      <p>
        Real-time data: {{ form.value | json }}
      </p>
      <p>
        Your form status is : {{ form.status }}
      </p>
    </form>

  </mat-expansion-panel>
</mat-accordion>
